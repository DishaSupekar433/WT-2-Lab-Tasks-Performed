<!DOCTYPE html>
<html>

    <head>
        <title>Exception handling using AngularJS</title>
    </head>

    <body ng-app="myApp">
        <h1> Error handling in Angular</h1>
        <div ng-controller="errHandler">
            <p>Enter a number:</p>
            <input type="number" ng-model="num" />
            <button ng-click="calculate()"> Calculate</button>
            <p>Result: {{result}}</p>
            <p>Any Exception: {{errorMessage}}</p>
        </div>


        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.9/angular.min.js"></script>


        <script>
            angular.module('myApp', []).controller('errHandler', function ($scope, $exceptionHandler) {
                $scope.calculate = function () {
                    try {
                        if ($scope.num < 0) {
                            $scope.result = "Not Possible";
                            throw new Error("Number must be positive !!")
                        }
                        $scope.result = Math.sqrt($scope.num);
                        $scope.errorMessage = "No Exception Occurred";
                    }
                    catch (e) {
                        $scope.errorMessage = e.message;
                        $exceptionHandler(e);
                    }
                }
            })
        </script>
    </body>

</html>